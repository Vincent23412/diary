<!doctype html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2025-06-26</title>
  <link rel="stylesheet" href="/notes/style.css" />
</head>
<body>
  <header class="container py-24">
    <h1 class="title">2025-06-26</h1>
    <nav class="nav">
      <a href="/notes/daily-notes/index.html" class="nav-link">â† å›åˆ†é¡</a>
      <a href="/notes/index.html" class="nav-link">å›ç¸½è¦½</a>
    </nav>
  </header>

  <main class="container card">
    <article class="post-content">
      <p>âœ… é¡Œç›®é‡é»ï¼š</p>
<ul>
<li>
<p>å…¬å¸ EC2 æˆæœ¬ä¸Šå‡</p>
</li>
<li>
<p>ç™¼ç¾æœ‰å¹¾å° EC2 å‡ºç¾ ä¸å¿…è¦çš„å‚ç›´æ“´å±•ï¼ˆvertical scalingï¼‰</p>
</li>
<li>
<p>éœ€æ±‚ï¼š</p>
</li>
<li></li>
</ul>
<p>âœ… å„é¸é …è§£æï¼š</p>
<p>A. Use AWS Budgets</p>
<ul>
<li>
<p>âŒ AWS Budgets æ˜¯ç”¨ä¾†è¨­å®šé ç®—èˆ‡é€šçŸ¥ï¼Œä¸æä¾›æ·±å…¥æ­·å²åˆ†ææˆ–æŒ‰ Instance Type çš„è¦–è¦ºåŒ–å·¥å…·</p>
</li>
<li>
<p>ä¸é©åˆç”¨ä¾†ã€Œè¿½æŸ¥æˆæœ¬ç•°å¸¸ã€</p>
</li>
</ul>
<p>B. âœ… Use Cost Explorerâ€™s granular filtering feature to perform an in-depth analysis of EC2 costs based on instance types</p>
<ul>
<li>
<p>âœ… Cost Explorer æ”¯æ´æŒ‰ EC2 æœå‹™ â†’ instance type â†’ month/day ç¶­åº¦åˆ†æ</p>
</li>
<li>
<p>âœ… å…§å»ºåœ–è¡¨åŠŸèƒ½ï¼Œå¯è¦–è¦ºåŒ–è¿‘ 2 å€‹æœˆæˆæœ¬è®ŠåŒ–</p>
</li>
<li>
<p>âœ… æ“ä½œç°¡å–®ï¼Œä¸éœ€é¡å¤–è¨­å®šæˆ–å¯«ç¨‹å¼</p>
</li>
<li>
<p>âœ… æœ€ä½æ“ä½œè² æ“”çš„é¸é …</p>
</li>
</ul>
<p>C. Use AWS Billing and Cost Management dashboard</p>
<ul>
<li>
<p>âŒ æ­¤åŠŸèƒ½æä¾›çš„æ˜¯æ•´é«”æˆæœ¬æ‘˜è¦</p>
</li>
<li>
<p>é›–æœ‰åœ–è¡¨ï¼Œä½†éæ–¼ç²—ç•¥ï¼Œä¸æ”¯æ´æ·±å…¥ drill down åˆ° instance type å±¤ç´š</p>
</li>
<li>
<p>âœ˜ ä¸è¶³ä»¥æ‰¾å‡ºæ ¹å› ï¼ˆroot causeï¼‰</p>
</li>
</ul>
<p>D. Use Cost and Usage Reports (CUR) + S3 + QuickSight</p>
<ul>
<li>
<p>âœ… èƒ½åšåˆ°éå¸¸æ·±å…¥çš„è‡ªå®šç¾©åˆ†æ</p>
</li>
<li>
<p>âŒ éœ€è¦è¨­å®šï¼š</p>
</li>
<li></li>
<li>
<p>æ“ä½œè² æ“”é«˜ï¼Œä¸ç¬¦åˆã€Œæœ€å°æ“ä½œè² æ“”ã€çš„è¦æ±‚</p>
</li>
</ul>
<p>âœ… æ­£ç¢ºç­”æ¡ˆï¼š</p>
<p>B. Use Cost Explorerâ€™s granular filtering feature to perform an in-depth analysis of EC2 costs based on instance types</p>
<p>ğŸ“Œ è£œå……ï¼šCost Explorer å¯é€²è¡Œçš„åˆ†æç¶­åº¦</p>
<ul>
<li>
<p>Serviceï¼ˆAmazon EC2ï¼‰</p>
</li>
<li>
<p>Instance Typeï¼ˆå¦‚ t3.large, m5.xlargeï¼‰</p>
</li>
<li>
<p>Linked Account</p>
</li>
<li>
<p>Usage Typeï¼ˆæŒ‰å°æ™‚è¨ˆè²»ï¼‰</p>
</li>
<li>
<p>Time (monthly, daily)</p>
</li>
<li>
<p>Region</p>
</li>
</ul>
<p>AWS æˆæœ¬ç›¸é—œæœå‹™ç¸½æ•´ç†</p>
<p>ğŸ¯ å»ºè­°ç”¨é€”åœ°åœ–</p>
<p>âœ… A. Turn on AWS Config with the appropriate rules.</p>
<p>âœ… ç‚ºä»€éº¼é¸ Aï¼šAWS Config + è¦å‰‡</p>
<ul>
<li>
<p>AWS Config å¯ä»¥æŒçºŒè¿½è¹¤è³‡æºçš„è¨­å®šè®Šæ›´ï¼Œä¸¦è¨˜éŒ„æ­·å²ç‹€æ…‹ã€‚</p>
</li>
<li>
<p>å°æ–¼ Amazon S3ï¼Œä½ å¯ä»¥è¨­å®šä»¥ä¸‹ Config è¦å‰‡ï¼Œä¾‹å¦‚ï¼š</p>
</li>
<li></li>
</ul>
<p>ğŸ” ç”¨é€”ï¼šç•¶ S3 bucket çš„è¨­å®šè¢«æœªç¶“æˆæ¬Šçš„è®Šæ›´ï¼ˆå¦‚é–‹æ”¾ public readã€é—œé–‰åŠ å¯†ï¼‰ï¼ŒConfig æœƒåµæ¸¬ä¸¦æ¨™ç¤ºç‚ºã€Œnon-compliantã€ï¼Œå¯æ­é… SNSã€EventBridge ç™¼è­¦å‘Šã€‚</p>
<p>âŒ B. AWS Trusted Advisor</p>
<ul>
<li>
<p>Trusted Advisor æ˜¯ç”¨ä¾†æª¢æŸ¥å¸¸è¦‹çš„è¨­å®šæœ€ä½³åŒ–ï¼ˆå¦‚å®‰å…¨æ€§ã€æˆæœ¬ã€å¯ç”¨æ€§ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p>ä¸æœƒæŒçºŒç›£æ§è¨­å®šè®ŠåŒ–ï¼Œè€Œä¸”å¾ˆå¤šå®‰å…¨æª¢æŸ¥åƒ…é–‹æ”¾çµ¦ Business/Enterprise æ”¯æ´ç­‰ç´šå¸³æˆ¶ã€‚</p>
</li>
<li>
<p>ä¸é©åˆç”¨ä¾†å¯©æŸ¥æŒçºŒè®Šå‹•çš„è³‡æºé…ç½®è®Šæ›´</p>
</li>
</ul>
<p>âŒ C. Amazon Inspector</p>
<ul>
<li>
<p>Inspector æ˜¯åš æ¼æ´æƒæèˆ‡å®‰å…¨è©•ä¼°ï¼Œä¸»è¦é‡å°ï¼š</p>
</li>
<li></li>
<li>
<p>èˆ‡ S3 è¨­å®šç„¡é—œ</p>
</li>
</ul>
<p>âŒ D. S3 Server Access Logging + EventBridge</p>
<ul>
<li>
<p>Access Logging æ˜¯è¨˜éŒ„èª°ã€Œå­˜å– S3 ç‰©ä»¶ã€ï¼Œä¸æ˜¯ã€Œä¿®æ”¹è¨­å®šã€</p>
</li>
<li>
<p>EventBridge ç„¡æ³•ç›´æ¥è§¸ç™¼è¨­å®šè®Šæ›´äº‹ä»¶ï¼ˆConfig æ‰èƒ½è¿½è¹¤è¨­å®šæ­·å²ï¼‰</p>
</li>
</ul>
<p>âœ… çµè«–</p>
<p>ğŸ” AWS è¨­å®šèˆ‡å®‰å…¨å¯©æŸ¥é¡å‹æœå‹™ä¸€è¦½</p>
<p>ğŸ§© å¯¦éš›æ‡‰ç”¨å ´æ™¯èˆ‰ä¾‹</p>
<p>âœ… S3 Bucket å®‰å…¨ç›£æ§èˆ‡åˆè¦</p>
<ul>
<li>
<p>ä½¿ç”¨ AWS Configï¼š</p>
</li>
<li></li>
</ul>
<p>âœ… æª¢æŸ¥æ˜¯å¦æœ‰å®‰å…¨é¢¨éšªè³‡æº</p>
<ul>
<li>
<p>ä½¿ç”¨ Trusted Advisor (å…è²»é …ç›®)ï¼š</p>
</li>
<li></li>
</ul>
<p>âœ… æª¢æŸ¥ EC2 æ˜¯å¦å­˜åœ¨æ¼æ´</p>
<ul>
<li>
<p>ä½¿ç”¨ Amazon Inspectorï¼š</p>
</li>
<li></li>
</ul>
<p>âœ… è‡ªå‹•ä¿®æ­£ç­–ç•¥ï¼ˆAuto Remediationï¼‰</p>
<ul>
<li>
<p>çµ„åˆï¼šAWS Config + Systems Manager Automation</p>
</li>
<li></li>
</ul>
<p>âœ… å“ªäº›æœå‹™å…è²»ï¼Ÿ</p>
<p>â“ é¡Œç›®é‡è¿°èˆ‡éœ€æ±‚è§£æ</p>
<p>A company is migrating applications to AWS. The applications are deployed in different accounts. The company manages the accounts centrally by using AWS Organizations. The companyâ€™s security team needs a single sign-on (SSO) solution across all the companyâ€™s accounts. The company must continue managing the users and groups in its on-premises self-managed Microsoft Active Directory.</p>
<p>âœ… é¡Œç›®è¦é»æ‹†è§£ï¼š</p>
<p>å¤šå€‹ AWS å¸³è™Ÿï¼ˆAccountsï¼‰ï¼šè¡¨ç¤ºæœªä¾†ç™»å…¥æ“ä½œéœ€æ”¯æ´è·¨å¸³è™Ÿã€‚</p>
<p>ä½¿ç”¨ AWS Organizations ç®¡ç†ï¼šä»£è¡¨å¸³è™Ÿå·²çµ±ä¸€æ§ç®¡ï¼Œå¯ä»¥èˆ‡ SSO æ•´åˆã€‚</p>
<p>å¸Œæœ›æœ‰ SSOï¼ˆSingle Sign-Onï¼‰è§£æ±ºæ–¹æ¡ˆï¼šå³ä¸€å€‹ç™»å…¥å…¥å£å¯ä»¥æ“ä½œå¤šå€‹å¸³è™Ÿã€‚</p>
<p>ä½¿ç”¨è€…èˆ‡ç¾¤çµ„ç¶­æŒåœ¨æœ¬åœ°çš„ Microsoft Active Directoryï¼ˆon-prem ADï¼‰ç®¡ç†ï¼šèº«ä»½ä¾†æºï¼ˆidentity sourceï¼‰ä¸åœ¨ AWSï¼Œéœ€è¦æ•´åˆã€‚</p>
<p>ğŸ¯ é—œéµéœ€æ±‚ç¸½çµï¼š</p>
<ul>
<li>
<p>è¦è·¨å¸³è™Ÿ SSO</p>
</li>
<li>
<p>è¦èˆ‡ AWS åŸç”Ÿæ•´åˆï¼ˆå› ç‚ºå·²ç”¨ Organizationsï¼‰</p>
</li>
<li>
<p>è¦æ²¿ç”¨ç¾æœ‰çš„æœ¬åœ° AD èº«ä»½ç³»çµ±</p>
</li>
<li>
<p>è¦é¸æ“‡ç¶­é‹è² æ“”æœ€å°çš„æ–¹å¼</p>
</li>
</ul>
<p>âœ… æ­£ç¢ºç­”æ¡ˆï¼š</p>
<p>A. Enable AWS Single Sign-On (AWS SSO) from the AWS SSO console. Create a one-way forest trust or a one-way domain trust to connect the companyâ€™s self-managed Microsoft Active Directory with AWS SSO by using AWS Directory Service for Microsoft Active Directory.</p>
<p>ğŸ” ç‚ºä»€éº¼é¸ Aï¼Ÿ</p>
<ul>
<li>
<p>AWS SSOï¼ˆç¾åœ¨å« AWS IAM Identity Centerï¼‰ æ˜¯æä¾›è·¨å¸³è™Ÿå–®ä¸€ç™»å…¥çš„æœ€ä½³åŸç”Ÿå·¥å…·ã€‚</p>
</li>
<li>
<p>è¦å¾æœ¬åœ° Active Directory åŒæ­¥èº«ä»½è³‡è¨Šé€² AWSï¼Œéœ€è¦é€éï¼š</p>
</li>
<li></li>
<li>
<p>ä¸€æ—¦ä¿¡ä»»å»ºç«‹ï¼ŒAWS SSO å°±å¯ä»¥è®€å– on-prem AD çš„ä½¿ç”¨è€…å’Œç¾¤çµ„ï¼Œä¸¦æˆäºˆä»–å€‘è·¨å¸³è™Ÿçš„è¨ªå•æ¬Šé™ã€‚</p>
</li>
</ul>
<p>âŒ å…¶ä»–é¸é …éŒ¯èª¤è§£æï¼š</p>
    </article>
    <p class="post-meta">
      åŸæ–‡ï¼š
      <a href="https://github.com/Vincent23412/diary/blob/main/content/daily-notes/2025-06-26.md" target="_blank">GitHub</a> Â·
      <a href="https://raw.githubusercontent.com/Vincent23412/diary/main/content/daily-notes/2025-06-26.md" target="_blank">raw</a>
    </p>
  </main>

  <footer class="container py-24">
    <small>æœ€å¾Œæ›´æ–°ï¼š2026-01-26</small>
  </footer>
</body>
</html>
