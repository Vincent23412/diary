<!doctype html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2025-06-22</title>
  <link rel="stylesheet" href="/notes/style.css" />
</head>
<body>
  <header class="container py-24">
    <h1 class="title">2025-06-22</h1>
    <nav class="nav">
      <a href="/notes/daily-notes/index.html" class="nav-link">← 回分類</a>
      <a href="/notes/index.html" class="nav-link">回總覽</a>
    </nav>
  </header>

  <main class="container card">
    <article class="post-content">
      <p>🏢 AWS Organizations：讓 R&amp;D 部門脫離母企業建立新組織的正確遷移方式</p>
<p>📌 題目重點</p>
<ul>
<li>
<p>公司目前在 AWS Organizations 中有 5 個 OU</p>
</li>
<li>
<p>R&amp;D 單位即將獨立，需擁有自己的新 AWS Organization</p>
</li>
<li>
<p>已為 R&amp;D 建立新的 管理帳號（management account）</p>
</li>
</ul>
<p>✅ 正確答案</p>
<p>B. Invite the R&amp;D AWS account to be part of the new organization after the R&amp;D AWS account has left the prior organization</p>
<p>🔍 選項解析</p>
<p>🧭 正確流程補充說明</p>
<p>要讓某個 AWS 帳號從 A 組織遷移到 B 組織，應遵循以下步驟：</p>
<p>從原組織移除帳號</p>
<p>從新組織的管理帳號發出邀請</p>
<p>在 R&amp;D 帳號中接受邀請</p>
<p>✅ 結論</p>
<p>選項 B 符合 AWS Organizations 的設計與限制，且是最簡單、合法且低風險的遷移方式。</p>
<p>🧱 [CloudFormation &amp; IAM] EC2 安全存取 DynamoDB 的最佳方式</p>
<p>📌 題目背景</p>
<ul>
<li>
<p>使用 CloudFormation 建立三層式應用（Web Tier / App Tier / DynamoDB）</p>
</li>
<li>
<p>Web/App Tier 部署在 EC2 上</p>
</li>
<li>
<p>DynamoDB 層不可公開存取</p>
</li>
<li>
<p>要讓 EC2 讀寫 DynamoDB，但 不能暴露 API 金鑰</p>
</li>
</ul>
<p>✅ 正確答案：</p>
<p>B. Create an IAM role that has the required permissions to read and write from the DynamoDB tables. Add the role to the EC2 instance profile, and associate the instance profile with the application instances</p>
<p>🧠 詳細解析</p>
<p>🏁 結論</p>
<p>選項 B 符合最佳實踐：EC2 使用 IAM Role 搭配 Instance Profile 來安全存取 DynamoDB，不需管理金鑰，也避免資訊外洩風險。</p>
<p>📦 [S3 Access Control] 多個 Vendor 存取 S3 Bucket 需最小權限設計</p>
<p>📌 題目需求</p>
<ul>
<li>
<p>有多個 vendor AWS 帳號要下載公司存在 S3 的物件</p>
</li>
<li>
<p>公司希望這些帳號擁有最小必要權限（minimum access）</p>
</li>
<li>
<p>要有最低操作負擔（least operational overhead）</p>
</li>
</ul>
<p>✅ 正確答案：</p>
<p>C. Create a cross-account IAM role that has a read-only access policy specified for the IAM role</p>
<p>🧠 詳細解析</p>
<p>🛠 Cross-Account IAM Role 架構</p>
<p>Vendor AWS Account</p>
<p>↓ assume role</p>
<p>Company AWS Account (S3 bucket 所在)</p>
<p>↳ IAM Role (with S3 read-only policy)</p>
<p>↳ S3 Bucket (with trust policy allowing assumeRole)</p>
<p>☑ 步驟概要：</p>
<p>公司端建立 IAM Role</p>
<p>Vendor 使用 STS AssumeRole 存取資源</p>
<p>🏁 結論</p>
<p>選項 C 是最佳實務做法，符合以下條件：</p>
<ul>
<li>
<p>安全性高：只允許指定 vendor assume role</p>
</li>
<li>
<p>最小權限：只給 GetObject</p>
</li>
<li>
<p>操作負擔低：集中管理角色與政策即可</p>
</li>
</ul>
<p>☁️ [EC2 DR Strategy] 在 Failover 區域中確保 EC2 容量的災難復原策略</p>
<p>📌 題目需求</p>
<ul>
<li>
<p>設計 Disaster Recovery（DR）策略</p>
</li>
<li>
<p>要在 Failover AWS Region 中確保有足夠的 EC2 容量</p>
</li>
<li>
<p>必須保證容量（must meet capacity）</p>
</li>
</ul>
<p>✅ 正確答案：</p>
<p>D. Purchase a Capacity Reservation in the failover Region</p>
<p>🧠 詳細解析</p>
<p>🧾 Capacity Reservation 是什麼？</p>
<ul>
<li>
<p>預先保留 EC2 實體容量</p>
</li>
<li>
<p>可與 On-Demand / RI / Savings Plan 並用</p>
</li>
<li>
<p>避免 failover 時高峰期啟動失敗</p>
</li>
</ul>
<p>🔐 關鍵特性：</p>
<ul>
<li>
<p>保留指定 AZ、instance type 的 實體資源</p>
</li>
<li>
<p>確保需要時可以立即啟動 EC2 實例</p>
</li>
<li>
<p>適合用於災難復原、HPC 等場景</p>
</li>
</ul>
<p>🏁 結論</p>
<p>若企業要求 failover region 一定要有可用的 EC2 資源，則：</p>
<ul>
<li>
<p>只有 Capacity Reservation 能保證容量可用</p>
</li>
<li>
<p>是設計災難復原策略的 唯一正確選擇</p>
</li>
</ul>
<p>✅ 選項 D 是正確答案。</p>
<p>☁️ [S3 Global Secure Sharing] 公司全球員工資料收集與分享的安全解法</p>
<p>📌 題目需求</p>
<ul>
<li>
<p>公司需將研究資料收集並存至 Amazon S3</p>
</li>
<li>
<p>全球員工可安全存取資料</p>
</li>
<li>
<p>解法必須是安全、低操作負擔（minimal operational overhead）</p>
</li>
</ul>
<p>✅ 正確答案：</p>
<p>A. Use an AWS Lambda function to create an S3 presigned URL. Instruct employees to use the URL</p>
<p>🧠 詳細解析</p>
<p>🧾 為何選 A？</p>
<p>🔐 S3 Presigned URL 優點：</p>
<ul>
<li>
<p>時效性：可設定過期時間</p>
</li>
<li>
<p>最小權限：僅限特定物件、操作（如上傳、下載）</p>
</li>
<li>
<p>低維運：無需建 IAM 帳號與密碼</p>
</li>
<li>
<p>適合全球用戶：透過 HTTPS 存取即可，不受平台限制</p>
</li>
</ul>
<p>⚙️ Lambda 實作方式：</p>
<ul>
<li>
<p>使用 IAM 角色給 Lambda 存取 S3 權限</p>
</li>
<li>
<p>依需求產生 getObject 或 putObject 的預簽網址</p>
</li>
<li>
<p>透過前端系統或 API 傳送 URL 給用戶</p>
</li>
</ul>
<p>🏁 結論</p>
<p>若公司想用最低維運成本、高安全性方式將 S3 資料分享給全球員工：</p>
<ul>
<li>S3 Presigned URL + Lambda 自動產生 是最佳選擇</li>
</ul>
<p>✅ 選項 A 為正確答案。</p>
    </article>
    <p class="post-meta">
      原文：
      <a href="https://github.com/Vincent23412/diary/blob/main/content/daily-notes/2025-06-22.md" target="_blank">GitHub</a> ·
      <a href="https://raw.githubusercontent.com/Vincent23412/diary/main/content/daily-notes/2025-06-22.md" target="_blank">raw</a>
    </p>
  </main>

  <footer class="container py-24">
    <small>最後更新：2025-10-30</small>
  </footer>
</body>
</html>
