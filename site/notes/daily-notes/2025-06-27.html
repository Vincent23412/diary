<!doctype html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2025-06-27</title>
  <link rel="stylesheet" href="/notes/style.css" />
</head>
<body>
  <header class="container py-24">
    <h1 class="title">2025-06-27</h1>
    <nav class="nav">
      <a href="/notes/daily-notes/index.html" class="nav-link">← 回分類</a>
      <a href="/notes/index.html" class="nav-link">回總覽</a>
    </nav>
  </header>

  <main class="container card">
    <article class="post-content">
      <p>題目解析：</p>
<p>公司正在開發一個應用程式，透過 REST API 提供訂單運送統計資料。目標是：</p>
<ul>
<li>
<p>每天早上固定時間</p>
</li>
<li>
<p>從應用的 API 提取資料</p>
</li>
<li>
<p>整理成 可讀的 HTML 報告</p>
</li>
<li>
<p>用 email 寄送 給多人</p>
</li>
</ul>
<p>選項分析：</p>
<p>A. Configure the application to send the data to Amazon Kinesis Data Firehose.</p>
<ul>
<li>
<p>❌ 不適合</p>
</li>
<li>
<p>Kinesis Firehose 適合用於持續的資料串流輸出到 S3、Redshift 等目的地，非用來每日定時產生報告。</p>
</li>
<li>
<p>不符合「每天早上一次性提取 + email 報告」的需求。</p>
</li>
</ul>
<p>B. Use Amazon Simple Email Service (Amazon SES) to format the data and to send the report by email.</p>
<ul>
<li>
<p>✅ 部分正確</p>
</li>
<li>
<p>Amazon SES 能用來 發送 email，但不負責「格式化」資料。格式化通常是 Lambda 處理。</p>
</li>
<li>
<p>不過在整體流程中，用 SES 發送 HTML 報告 非常合適。</p>
</li>
</ul>
<p>C. Create an Amazon EventBridge (Amazon CloudWatch Events) scheduled event that invokes an AWS Glue job to query the application’s API for the data.</p>
<ul>
<li>
<p>❌ 不適合</p>
</li>
<li>
<p>AWS Glue 是為資料處理（如 ETL 或從資料湖中分析）設計的，不適合用來呼叫 REST API 並處理 HTML 格式資料。</p>
</li>
<li>
<p>呼叫 API 並格式化輸出報告，應由 Lambda 處理。</p>
</li>
</ul>
<p>D. Create an Amazon EventBridge (Amazon CloudWatch Events) scheduled event that invokes an AWS Lambda function to query the application’s API for the data.</p>
<ul>
<li>
<p>✅ 正確</p>
</li>
<li>
<p>EventBridge 可設定 每日定時觸發</p>
</li>
<li>
<p>Lambda 可負責：</p>
</li>
<li></li>
</ul>
<p>E. Store the application data in Amazon S3. Create an Amazon Simple Notification Service (Amazon SNS) topic as an S3 event destination to send the report by email.</p>
<ul>
<li>
<p>❌ 不適合</p>
</li>
<li>
<p>S3 的 SNS 通知通常是「檔案上傳時自動通知」，不適合每日定時產出報告後發送。</p>
</li>
<li>
<p>而且 SNS 也無法寄送 HTML 郵件內容（只能通知訊息，不是報告形式）。</p>
</li>
</ul>
<p>✅ 正確組合：</p>
<ul>
<li>
<p>B. 用 Amazon SES 寄送報告 email</p>
</li>
<li>
<p>D. 用 EventBridge 定時呼叫 Lambda，從 API 抓資料並整理 HTML 報告</p>
</li>
</ul>
<p>額外提示：</p>
<p>完整流程如下：</p>
<p>EventBridge 設定每日定時事件</p>
<p>Lambda function：</p>
<p>這題考的是如何使用自定網域名 (custom domain name) 和 HTTPS 憑證 (SSL/TLS) 來公開 Amazon API Gateway 的 Regional endpoint，並透過 Route 53 設定對應的 DNS 記錄。</p>
<p>✅ 題目需求解析：</p>
<ul>
<li>
<p>API Gateway 在 ca-central-1。</p>
</li>
<li>
<p>需要讓第三方服務透過自家網域 HTTPS 存取 API Gateway。</p>
</li>
<li>
<p>已經有自己的 domain name 註冊在 Route 53。</p>
</li>
<li>
<p>想使用公司的 domain name + HTTPS 憑證。</p>
</li>
</ul>
<p>✅ 正確做法的步驟是：</p>
<p>在 API Gateway 中建立 Regional endpoint（這題指定了在 ca-central-1）。</p>
<p>在 ACM（同一個區域）中匯入或建立與公司網域對應的公有憑證。</p>
<p>在 API Gateway 建立 Custom Domain Name 並綁定憑證。</p>
<p>使用 Route 53 建立 DNS 記錄，指向這個 Custom Domain Name 所對應的 API Gateway endpoint。</p>
<p>❌ 選項錯誤分析：</p>
<p>A. 使用 stage variables 並匯入憑證</p>
<ul>
<li>
<p>✖️ stage variables 是用來控制 Lambda alias 或 endpoint path，不是設計來變更 domain name。</p>
</li>
<li>
<p>✖️ 不會影響 API Gateway endpoint 的 URL。</p>
</li>
<li>
<p>➤ 錯誤用法。</p>
</li>
</ul>
<p>B. 將憑證匯入 us-east-1，並用 alias 指向 API Gateway Regional endpoint</p>
<ul>
<li>
<p>✖️ Regional API Gateway 必須要在「相同區域」內使用 ACM 憑證（也就是 ca-central-1），us-east-1 只對 edge-optimized endpoint 有用。</p>
</li>
<li>
<p>➤ 錯誤區域，會導致憑證無法綁定。</p>
</li>
</ul>
<p>D. 憑證在 us-east-1，指向自己的 domain name</p>
<ul>
<li>
<p>✖️ 一樣問題：ACM 憑證區域錯誤（只適用於 CloudFront / edge-optimized API）。</p>
</li>
<li>
<p>✖️ 建立 A 記錄並不會直接指向 API Gateway 的 custom domain。</p>
</li>
<li>
<p>➤ 邏輯混亂、設定錯誤。</p>
</li>
</ul>
<p>✅ 正確答案：</p>
<p>C. Create a Regional API Gateway endpoint. Associate the API Gateway endpoint with the company’s domain name. Import the public certificate associated with the company’s domain name into AWS Certificate Manager (ACM) in the same Region. Attach the certificate to the API Gateway endpoint. Configure Route 53 to route traffic to the API Gateway endpoint.</p>
<ul>
<li>
<p>✅ 使用 Regional API Gateway endpoint。</p>
</li>
<li>
<p>✅ ACM 憑證在正確的區域：ca-central-1。</p>
</li>
<li>
<p>✅ 綁定 custom domain name。</p>
</li>
<li>
<p>✅ Route 53 設定對應 alias record。</p>
</li>
</ul>
<p>✅ 正解：</p>
<p>C.</p>
<p>這題是關於如何過濾圖片中的不當內容，需求如下：</p>
<ul>
<li>
<p>圖片由使用者上傳。</p>
</li>
<li>
<p>需偵測是否有不當內容。</p>
</li>
<li>
<p>希望最小化開發成本與工作量（minimize development effort）。</p>
</li>
</ul>
<p>各選項說明：</p>
<p>A. Use Amazon Comprehend to detect inappropriate content.</p>
<ul>
<li>❌ 錯誤。Amazon Comprehend 是用來做文字自然語言處理（NLP），無法處理圖片。</li>
</ul>
<p>B. Use Amazon Rekognition to detect inappropriate content. Use human review for low-confidence predictions.</p>
<ul>
<li>
<p>✅ 正確。Amazon Rekognition 是專門的影像與影片分析服務，可以直接偵測出不當內容（例如暴力、裸露等）。</p>
</li>
<li>
<p>它提供一個預先訓練好的模型，能夠辨識是否包含不適當內容。</p>
</li>
<li>
<p>並且可與 Amazon Augmented AI (A2I) 整合，在辨識信心不足時呼叫人工審查。</p>
</li>
<li>
<p>符合最小開發工作量的需求。</p>
</li>
</ul>
<p>C. Use Amazon SageMaker to detect inappropriate content.</p>
<ul>
<li>❌ 錯誤。SageMaker 是訓練與部署自訂機器學習模型的服務，需要自行準備訓練資料與模型架構，開發成本高。</li>
</ul>
<p>D. Use AWS Fargate to deploy a custom machine learning model…</p>
<ul>
<li>❌ 錯誤。使用 Fargate 與自建模型開發與部署會增加系統設計與維運負擔，與最小開發工作量的需求相違。</li>
</ul>
<p>✅ 正確答案：</p>
<p>B. Use Amazon Rekognition to detect inappropriate content. Use human review for low-confidence predictions.</p>
<p>這題的目標是：強制所有網站流量都使用 HTTPS，也就是將 HTTP 請求自動導向 HTTPS。</p>
<p>各選項分析：</p>
<p>A. Update the ALB’s network ACL to accept only HTTPS traffic</p>
<ul>
<li>❌ 錯誤：Network ACL 是針對 VPC 子網的低層防火牆控制，不能自動重導 URL，也無法提供「轉址」功能。</li>
</ul>
<p>B. Create a rule that replaces the HTTP in the URL with HTTPS</p>
<ul>
<li>❌ 錯誤：沒有這種在 ALB 層級直接修改 URL protocol 的規則。URL protocol (http://) 是在 client-side 被指定的。</li>
</ul>
<p>C. Create a listener rule on the ALB to redirect HTTP traffic to HTTPS</p>
<ul>
<li>
<p>✅ 正確：這是最常見且推薦的方式：</p>
</li>
<li></li>
</ul>
<p>D. Replace the ALB with a Network Load Balancer configured to use Server Name Indication (SNI)</p>
<ul>
<li>❌ 錯誤：NLB 是第 4 層（L4）負載平衡器，不支援重導，也不支援 SNI 的應用層重導控制。</li>
</ul>
<p>✅ 正確答案：</p>
<p>C. Create a listener rule on the ALB to redirect HTTP traffic to HTTPS.</p>
    </article>
    <p class="post-meta">
      原文：
      <a href="https://github.com/Vincent23412/diary/blob/main/content/daily-notes/2025-06-27.md" target="_blank">GitHub</a> ·
      <a href="https://raw.githubusercontent.com/Vincent23412/diary/main/content/daily-notes/2025-06-27.md" target="_blank">raw</a>
    </p>
  </main>

  <footer class="container py-24">
    <small>最後更新：2025-10-28</small>
  </footer>
</body>
</html>
