<!doctype html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2025-08-09</title>
  <link rel="stylesheet" href="/notes/style.css" />
</head>
<body>
  <header class="container py-24">
    <h1 class="title">2025-08-09</h1>
    <nav class="nav">
      <a href="/notes/daily-notes/index.html" class="nav-link">â† å›åˆ†é¡</a>
      <a href="/notes/index.html" class="nav-link">å›ç¸½è¦½</a>
    </nav>
  </header>

  <main class="container card">
    <article class="post-content">
      <h2 id="nested-class">å·¢ç‹€é¡åˆ¥ï¼ˆNested Classï¼‰</h2>
<p>å·¢ç‹€é¡åˆ¥æŒ‡å®£å‘Šåœ¨å¦ä¸€å€‹é¡åˆ¥å…§çš„é¡åˆ¥ã€‚</p>
<h3 id="1-static-nested-class">1. éœæ…‹å·¢ç‹€é¡åˆ¥ï¼ˆStatic Nested Classï¼‰</h3>
<ul>
<li>
<p>å®šç¾©ï¼šä½¿ç”¨ static ä¿®é£¾çš„å·¢ç‹€é¡åˆ¥ã€‚</p>
</li>
<li>
<p>ä½ç½®ï¼šå®šç¾©åœ¨å¤–éƒ¨é¡åˆ¥çš„é¡åˆ¥æœ¬é«”ä¸­ï¼Œä½†ç”¨ static æ¨™è¨˜ã€‚</p>
</li>
<li>
<p>å­˜å–ç¯„åœï¼š</p>
</li>
<li>
<p>å»ºç«‹æ–¹å¼ï¼šOuter.StaticNestedClass obj = new Outer.StaticNestedClass();</p>
</li>
<li>
<p>ç‰¹æ€§ï¼š</p>
</li>
</ul>
<h3 id="2-inner-class">2. ééœæ…‹å·¢ç‹€é¡åˆ¥ï¼ˆInner Classï¼‰</h3>
<p>ééœæ…‹çš„å·¢ç‹€é¡åˆ¥ï¼Œæœƒéš±å¼æŒæœ‰å¤–éƒ¨é¡åˆ¥å¯¦ä¾‹çš„å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å­˜å–å¤–éƒ¨é¡åˆ¥çš„å¯¦ä¾‹æˆå“¡ã€‚</p>
<h3 id="21-member-inner-class">2.1 æˆå“¡å…§éƒ¨é¡åˆ¥ï¼ˆMember Inner Classï¼‰</h3>
<ul>
<li>
<p>å®šç¾©ï¼šå®šç¾©åœ¨å¤–éƒ¨é¡åˆ¥æœ¬é«”ä¸­ï¼Œä½†æ²’æœ‰ static ä¿®é£¾ã€‚</p>
</li>
<li>
<p>ä½ç½®ï¼šå¤–éƒ¨é¡åˆ¥å…§éƒ¨ï¼ˆæ–¹æ³•ä¹‹å¤–ï¼‰ã€‚</p>
</li>
<li>
<p>å­˜å–ç¯„åœï¼š</p>
</li>
<li>
<p>å»ºç«‹æ–¹å¼ï¼š</p>
</li>
</ul>
<h3 id="22-local-class">2.2 æœ¬åœ°é¡åˆ¥ï¼ˆLocal Classï¼‰</h3>
<ul>
<li>
<p>å®šç¾©ï¼šå®£å‘Šåœ¨æ–¹æ³•ã€å»ºæ§‹å­ã€æˆ–å€å¡Šå…§çš„é¡åˆ¥ã€‚</p>
</li>
<li>
<p>ä½ç½®ï¼šå¤–éƒ¨é¡åˆ¥çš„æ–¹æ³•æˆ–å€å¡Šå…§ã€‚</p>
</li>
<li>
<p>å­˜å–ç¯„åœï¼š</p>
</li>
<li>
<p>ç‰¹æ€§ï¼š</p>
</li>
</ul>
<h3 id="23-anonymous-class">2.3 åŒ¿åé¡åˆ¥ï¼ˆAnonymous Classï¼‰</h3>
<ul>
<li>
<p>å®šç¾©ï¼šæ²’æœ‰åå­—çš„é¡åˆ¥ï¼ŒåŒæ™‚å®£å‘Šèˆ‡å»ºç«‹å¯¦ä¾‹ã€‚</p>
</li>
<li>
<p>ä½ç½®ï¼šé€šå¸¸ç”¨åœ¨å»ºç«‹ä»‹é¢æˆ–æŠ½è±¡é¡åˆ¥å¯¦ä¾‹æ™‚ï¼Œç›´æ¥å¯« {...}ã€‚</p>
</li>
<li>
<p>å­˜å–ç¯„åœï¼š</p>
</li>
<li>
<p>ç‰¹æ€§ï¼š</p>
</li>
</ul>
<h2 id="_1">å°ç…§è¡¨</h2>
<h2 id="_2">ğŸ“Œ ç¯„ä¾‹</h2>
<p>public class Outer {</p>
<div class="codehilite"><pre><span></span><code><span class="n">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">outerField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Outer Field&quot;</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">å°é–‰é¡åˆ¥æˆå“¡</span>
<span class="k">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">staticField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Static Field&quot;</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">æˆå“¡å…§éƒ¨é¡åˆ¥</span><span class="err">ï¼ˆ</span><span class="k">Member</span><span class="w"> </span><span class="k">Inner</span><span class="w"> </span><span class="k">Class</span><span class="err">ï¼‰</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="n">ä¸€èˆ¬å…§éƒ¨é¡åˆ¥</span>
<span class="k">class</span><span class="w"> </span><span class="n">MemberInnerClass</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">void</span><span class="w"> </span><span class="n">printFromMemberInner</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">å¯ä»¥ç›´æ¥å­˜å–å°é–‰é¡åˆ¥çš„æˆå“¡</span>
<span class="w">        </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;MemberInnerClass -&gt; outerField: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outerField</span><span class="p">);</span>
<span class="w">        </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;MemberInnerClass -&gt; staticField: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">staticField</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">ç”¨ä¾†ç¤ºç¯„åŒ¿åé¡åˆ¥</span><span class="err">ã€Œ</span><span class="n">å¯¦ä½œä»‹é¢</span><span class="err">ã€</span>
<span class="n">interface</span><span class="w"> </span><span class="n">Greeter</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">void</span><span class="w"> </span><span class="n">greet</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="err">}</span>

<span class="n">void</span><span class="w"> </span><span class="n">outerMethod</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="err">â†</span><span class="w"> </span><span class="n">å°é–‰æ–¹æ³•</span>
<span class="w">    </span><span class="nc">int</span><span class="w"> </span><span class="n">localVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">effectively</span><span class="w"> </span><span class="n">final</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">æœ¬åœ°é¡åˆ¥</span><span class="err">ï¼ˆ</span><span class="k">Local</span><span class="w"> </span><span class="k">Class</span><span class="err">ï¼‰</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="n">LocalClass</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">void</span><span class="w"> </span><span class="n">printAll</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">å­˜å–å°é–‰é¡åˆ¥æˆå“¡</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;LocalClass -&gt; outerField: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">outerField</span><span class="p">);</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;LocalClass -&gt; staticField: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">staticField</span><span class="p">);</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">å­˜å–å°é–‰æ–¹æ³•è®Šæ•¸èˆ‡åƒæ•¸</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;LocalClass -&gt; localVar: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">localVar</span><span class="p">);</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;LocalClass -&gt; param: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">param</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">ä½¿ç”¨æœ¬åœ°é¡åˆ¥</span>
<span class="w">    </span><span class="n">LocalClass</span><span class="w"> </span><span class="n">lc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LocalClass</span><span class="p">();</span>
<span class="w">    </span><span class="n">lc</span><span class="p">.</span><span class="n">printAll</span><span class="p">();</span>
<span class="err">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="err">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">Outer</span><span class="w"> </span><span class="k">outer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">Outer</span><span class="p">();</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">ä½¿ç”¨æˆå“¡å…§éƒ¨é¡åˆ¥</span><span class="err">ï¼ˆ</span><span class="n">å¿…é ˆé€éå¤–éƒ¨é¡åˆ¥å¯¦ä¾‹å»ºç«‹</span><span class="err">ï¼‰</span>
<span class="w">    </span><span class="k">Outer</span><span class="p">.</span><span class="n">MemberInnerClass</span><span class="w"> </span><span class="n">memberInner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">outer</span><span class="p">.</span><span class="k">new</span><span class="w"> </span><span class="n">MemberInnerClass</span><span class="p">();</span>
<span class="w">    </span><span class="n">memberInner</span><span class="p">.</span><span class="n">printFromMemberInner</span><span class="p">();</span>

<span class="w">    </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">å‘¼å«åŒ…å«æœ¬åœ°é¡åˆ¥çš„å¤–éƒ¨æ–¹æ³•</span>
<span class="w">    </span><span class="k">outer</span><span class="p">.</span><span class="n">outerMethod</span><span class="p">(</span><span class="ss">&quot;Method Parameter&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">=====</span><span class="w"> </span><span class="n">åŒ¿åé¡åˆ¥</span><span class="w"> </span><span class="mi">1</span><span class="err">ï¼š</span><span class="n">å¯¦ä½œä»‹é¢</span><span class="w"> </span><span class="o">=====</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">åœ¨</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">ä¸­</span><span class="err">ï¼Œ</span><span class="n">è‹¥è¦å–ç”¨</span><span class="w"> </span><span class="k">outer</span><span class="w"> </span><span class="n">çš„å¯¦ä¾‹æˆå“¡</span><span class="err">ï¼Œ</span><span class="n">éœ€é€éè®Šæ•¸</span><span class="w"> </span><span class="k">outer</span><span class="err">ï¼ˆ</span><span class="n">effectively</span><span class="w"> </span><span class="n">final</span><span class="err">ï¼‰</span>
<span class="w">    </span><span class="k">Outer</span><span class="p">.</span><span class="n">Greeter</span><span class="w"> </span><span class="n">greeter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">Outer</span><span class="p">.</span><span class="n">Greeter</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nv">@Override</span>
<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">greet</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;Greeter (anonymous) -&gt; staticField: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">Outer</span><span class="p">.</span><span class="n">staticField</span><span class="p">);</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;Greeter (anonymous) -&gt; outerField via instance: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">outer</span><span class="p">.</span><span class="n">outerField</span><span class="p">);</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;Hello, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>
<span class="w">    </span><span class="n">greeter</span><span class="p">.</span><span class="n">greet</span><span class="p">(</span><span class="ss">&quot;Alice&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">();</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">=====</span><span class="w"> </span><span class="n">åŒ¿åé¡åˆ¥</span><span class="w"> </span><span class="mi">2</span><span class="err">ï¼š</span><span class="n">ç¹¼æ‰¿æˆå“¡å…§éƒ¨é¡åˆ¥ä¸¦è¦†å¯«æ–¹æ³•</span><span class="w"> </span><span class="o">=====</span>
<span class="w">    </span><span class="k">Outer</span><span class="p">.</span><span class="n">MemberInnerClass</span><span class="w"> </span><span class="n">anonInner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">outer</span><span class="p">.</span><span class="k">new</span><span class="w"> </span><span class="n">MemberInnerClass</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nv">@Override</span>
<span class="w">        </span><span class="n">void</span><span class="w"> </span><span class="n">printFromMemberInner</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">å…ˆå‘¼å«åŸæœ¬è¡Œç‚º</span>
<span class="w">            </span><span class="n">super</span><span class="p">.</span><span class="n">printFromMemberInner</span><span class="p">();</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">å†åŠ ä¸ŠåŒ¿åå­é¡åˆ¥è‡ªå·±çš„è¡Œç‚º</span>
<span class="w">            </span><span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="ss">&quot;Anonymous subclass -&gt; extra line&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>
<span class="w">    </span><span class="n">anonInner</span><span class="p">.</span><span class="n">printFromMemberInner</span><span class="p">();</span>
<span class="err">}</span>
</code></pre></div>

<p>}</p>
<h3 id="_3">ğŸ”¹ è¼¸å‡ºï¼š</h3>
<p>MemberInnerClass -&gt; outerField: Outer Field
MemberInnerClass -&gt; staticField: Static Field</p>
<p>LocalClass -&gt; outerField: Outer Field
LocalClass -&gt; staticField: Static Field
LocalClass -&gt; localVar: 42
LocalClass -&gt; param: Method Parameter</p>
<p>Greeter (anonymous) -&gt; staticField: Static Field
Greeter (anonymous) -&gt; outerField via instance: Outer Field
Hello, Alice</p>
<p>MemberInnerClass -&gt; outerField: Outer Field
MemberInnerClass -&gt; staticField: Static Field
Anonymous subclass -&gt; extra line</p>
<h2 id="_4">åè©ä»‹ç´¹</h2>
<h3 id="1-enclosing-class">1ï¸âƒ£ å°é–‰é¡åˆ¥ï¼ˆEnclosing Classï¼‰</h3>
<ul>
<li>
<p>å®šç¾©åœ¨å¦ä¸€å€‹é¡åˆ¥è£¡çš„å·¢ç‹€é¡åˆ¥ï¼ˆnested classï¼‰ï¼Œå®ƒçš„å¤–å±¤é¡åˆ¥å°±æ˜¯å®ƒçš„å°é–‰é¡åˆ¥ã€‚</p>
</li>
<li>
<p>å·¢ç‹€é¡åˆ¥å¯ä»¥ç›´æ¥å­˜å–å°é–‰é¡åˆ¥çš„æˆå“¡ï¼ˆåŒ…å« privateï¼‰ã€‚</p>
</li>
<li>
<p>ä¾‹å­ï¼šæˆå“¡å…§éƒ¨é¡åˆ¥ã€æœ¬åœ°é¡åˆ¥ã€åŒ¿åé¡åˆ¥çš„å¤–å±¤é¡åˆ¥ï¼Œéƒ½æ˜¯å®ƒå€‘çš„å°é–‰é¡åˆ¥ã€‚</p>
</li>
</ul>
<h3 id="2-enclosing-method">2ï¸âƒ£ å°é–‰æ–¹æ³•ï¼ˆEnclosing Methodï¼‰</h3>
<ul>
<li>
<p>æœ¬åœ°é¡åˆ¥ï¼ˆLocal Classï¼‰æˆ–åŒ¿åé¡åˆ¥å®šç¾©æ‰€åœ¨çš„æ–¹æ³•ã€å»ºæ§‹å­æˆ–åˆå§‹åŒ–å€å¡Šï¼Œå°±æ˜¯å®ƒå€‘çš„å°é–‰æ–¹æ³•/å°é–‰å€å¡Šã€‚</p>
</li>
<li>
<p>æœ¬åœ°é¡åˆ¥å¯ä»¥å­˜å–å°é–‰æ–¹æ³•ä¸­çš„final æˆ– effectively final çš„å€åŸŸè®Šæ•¸å’Œåƒæ•¸ã€‚</p>
</li>
</ul>
<h3 id="3-final-effectively-final">3ï¸âƒ£ Final / Effectively Final é™åˆ¶</h3>
<ul>
<li>
<p>å› ç‚ºæœ¬åœ°é¡åˆ¥å­˜å–å°é–‰æ–¹æ³•è®Šæ•¸æ™‚ï¼Œæœƒæ•ç²è®Šæ•¸çš„å€¼ã€‚</p>
</li>
<li>
<p>è‹¥è©²è®Šæ•¸æœƒè¢«ä¿®æ”¹ï¼Œå°±ä¸æ˜¯ effectively finalï¼Œç·¨è­¯æœƒéŒ¯ã€‚</p>
</li>
<li>
<p>JDK 8 ä¹‹å¾Œï¼Œä¸å¿…é¡¯å¼ finalï¼Œä½†åˆå§‹åŒ–å¾Œä¸èƒ½å†æ”¹å€¼ã€‚</p>
</li>
</ul>
<h2 id="_5">ğŸ“Œ å°ç…§è¡¨</h2>
    </article>
    <p class="post-meta">
      åŸæ–‡ï¼š
      <a href="https://github.com/Vincent23412/diary/blob/main/content/daily-notes/2025-08-09.md" target="_blank">GitHub</a> Â·
      <a href="https://raw.githubusercontent.com/Vincent23412/diary/main/content/daily-notes/2025-08-09.md" target="_blank">raw</a>
    </p>
  </main>

  <footer class="container py-24">
    <small>æœ€å¾Œæ›´æ–°ï¼š2026-02-28</small>
  </footer>
</body>
</html>
