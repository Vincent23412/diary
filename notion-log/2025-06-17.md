

---

## ğŸ“¦ å¥—ä»¶å®‰è£

```bash
npm install @web3-storage/w3up-client @web3-storage/file


## ğŸ“ å°ˆæ¡ˆçµæ§‹å»ºè­°

project-root/
â”œâ”€â”€ .w3up/                      # å„²å­˜ Agent èº«ä»½èˆ‡ delegation æ†‘è­‰
â”œâ”€â”€ example.txt                # è¦ä¸Šå‚³çš„æ¸¬è©¦æª”
â””â”€â”€ upload.ts                  # ä¸»ç¨‹å¼å…¥å£


## âœ¨ å®Œæ•´ç¯„ä¾‹ï¼šå¾ç™»å…¥åˆ°ä¸Šå‚³

import { create } from '@web3-storage/w3up-client'
import { File } from '@web3-storage/file'
import fs from 'fs'

async function main() {
  const client = await create()

  // 1. ä½¿ç”¨ Email ç™»å…¥ï¼ˆåªéœ€åŸ·è¡Œä¸€æ¬¡ï¼‰
  const email = 'you@example.com'
  console.log(`ğŸ“¨ Sending login link to ${email}...`)
  const account = await client.login(email)

  // 2. ç­‰å¾…é©—è­‰èˆ‡é¸æ“‡æ–¹æ¡ˆ
  console.log('â³ Waiting for login confirmation...')
  await account.plan.wait()
  console.log('âœ… Email verified and plan active!')

  // 3. å»ºç«‹ Space
  const space = await client.createSpace('my-space', { account })
  await client.setCurrentSpace(space.did())
  console.log('ğŸª Space created:', space.did())

  // 4. ä¸Šå‚³æœ¬åœ°æª”æ¡ˆ
  const buffer = fs.readFileSync('example.txt')
  const file = new File([buffer], 'example.txt')
  const result = await client.uploadFile(file)

  console.log('ğŸ“¦ Uploaded CID:', result.cid.toString())
  console.log(`ğŸ”— View on IPFS: https://${result.cid}.ipfs.w3s.link`)
}

main().catch(console.error)


## ğŸ“Œ login æµç¨‹èªªæ˜

## ğŸ” æª¢æŸ¥æ˜¯å¦å·²ç™»å…¥

å¯ç”¨ client.hasAccount() åˆ¤æ–·æ˜¯å¦éœ€è¦å†æ¬¡ç™»å…¥ï¼š

if (!(await client.hasAccount())) {
  const account = await client.login('you@example.com')
  await account.plan.wait()
}


## ğŸ—‚ å¤šæ¬¡ä½¿ç”¨ Space

await client.setCurrentSpace('<space-did>')


ä½ å¯ä»¥åœ¨å¤šå€‹ Space é–“åˆ‡æ›ï¼Œåªè¦ä¹‹å‰æœ‰å»ºç«‹éæˆ– addSpace() é€²ä¾†çš„ delegationã€‚

## ğŸ“‚ ä¸Šå‚³ç›¸é—œ API

## ğŸ”— é è¦½ç¶²å€æ ¼å¼

https://${cid}.ipfs.w3s.link


## ğŸ§  è£œå……èªªæ˜

- ç™»å…¥èˆ‡ Space å»ºç«‹åªéœ€åŸ·è¡Œä¸€æ¬¡ï¼Œé™¤éï¼š

- è‹¥éƒ¨ç½²åœ¨ Lambda/Dockerï¼Œè«‹ä½¿ç”¨ delegation æ¨¡å¼ï¼ˆBYODï¼‰